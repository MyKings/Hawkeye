"use strict";(self["webpackChunkHawkeye"]=self["webpackChunkHawkeye"]||[]).push([[540],{540:function(t,e,s){s.r(e),s.d(e,{default:function(){return r}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"blacklists"},[e("el-alert",{attrs:{title:"项目名称、文件名若包含黑名单关键字，则不会保存。",type:"warning",closable:!1,"show-icon":""}}),e("el-input",{staticClass:"input-new-blacklist",attrs:{size:"mini"},on:{blur:t.addBlacklist},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addBlacklist.apply(null,arguments)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.addBlacklist}},[t._v("添加")]),e("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"","tooltip-effect":"dark",data:t.blacklists}},[e("el-table-column",{attrs:{prop:"text",label:"关键字"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-button",{attrs:{size:"mini",type:"danger",round:""},on:{click:function(e){return t.deleteBlacklist(s.row)}}},[t._v("删除 ")])]}}])})],1)],1)},l=[],a=(s(7658),{data(){return{blacklists:[],enable:!1,inputValue:""}},methods:{addBlacklist(){this.inputValue&&(this.blacklists.push({text:this.inputValue}),this.axios.post(this.api.settingBlacklist,{text:this.inputValue}).then((t=>{this.$message.success(t.data.msg),this.blacklists=t.data.result})).catch((t=>{this.$message.error(t.toString())}))),this.inputValue=""},deleteBlacklist(t){this.axios.delete(this.api.settingBlacklist,{params:{text:t.text}}).then((e=>{this.$message.success(e.data.msg),this.blacklists.splice(this.blacklists.indexOf(t),1),this.blacklists=e.data.result})).catch((t=>{this.$message.error(t.toString())}))},fetchBlacklists(){this.axios.get(this.api.settingBlacklist).then((t=>{this.blacklists=t.data.result})).catch((t=>{this.$message.error(t.toString())}))}},mounted:function(){this.fetchBlacklists()}}),n=a,c=s(1001),u=(0,c.Z)(n,i,l,!1,null,"4c04a198",null),r=u.exports}}]);
//# sourceMappingURL=540.b5dfd35f.js.map